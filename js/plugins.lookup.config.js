/*
* FileName "plugins.lookup.config.js"
* Version: 1.0.0
* Copyright (c) 2023 Pandafirm LLC
* Distributed under the terms of the GNU Lesser General Public License.
* https://opensource.org/licenses/LGPL-2.1
*/
'use strict';(t=>{var n={};kb.field.load(kintone.app.getId()).then(x=>{kb.config[t].build({submit:(q,m)=>{try{var l=!1;m.tab=[];m.flat={};(p=>{kb.config[t].tabbed.tabs.some(a=>{var d=kb.record.get(a.panel,p);d.error?(kb.alert(kb.constants.common.message.invalid.record[kb.operator.language]),kb.config[t].tabbed.activate(a),l=!0):l||(b=>{b=d.record.cascade.value.filter(e=>e.value.field.value);var g=d.record.dynamicFilter.value.filter(e=>e.value.external.value&&e.value.internal.value),c=d.record.multiCopy.value.filter(e=>
e.value.external.value&&e.value.internal.value),f=d.record.tableCopy.value.filter(e=>e.value.external.value&&e.value.internal.value);0!=c.length?(l||d.record.container.value||(kb.alert(kb.constants.config.message.invalid.container[kb.operator.language]),kb.config[t].tabbed.activate(a),l=!0),l||d.record.label.value||(kb.alert(kb.constants.config.message.invalid.label[kb.operator.language]),kb.config[t].tabbed.activate(a),l=!0),l||d.record.message.value||(kb.alert(kb.constants.config.message.invalid.message[kb.operator.language]),
kb.config[t].tabbed.activate(a),l=!0)):(d.record.container.value="",d.record.label.value="",d.record.message.value="",d.record.user.value=[],d.record.organization.value=[],d.record.group.value=[]);0!=f.length&&(!l&&f.some(e=>!e.value.identifier.value)&&(kb.alert(kb.constants.config.message.invalid.identifier[kb.operator.language]),kb.config[t].tabbed.activate(a),l=!0),!l&&f.some(e=>!e.value.fields.value)&&(kb.alert(kb.constants.config.message.invalid.fields[kb.operator.language]),kb.config[t].tabbed.activate(a),
l=!0));l||(d.record.cascade.value=b,d.record.dynamicFilter.value=g,d.record.multiCopy.value=c,d.record.tableCopy.value=f,m.tab.push({label:a.label.html(),setting:d.record}))})({external:a.fields.external.parallelize,internal:a.fields.internal.parallelize});return l});m.tab.length!=Array.from(new Set(m.tab.map(a=>a.setting.lookup.value))).length&&(kb.alert(kb.constants.config.message.invalid.duplicate[kb.operator.language]),l=!0)})({id:n.app.id,fields:n.app.fields.tab});m.tab=JSON.stringify(m.tab);
m.flat=JSON.stringify(m.flat);return l?!1:m}catch(p){return kb.alert(kb.error.parse(p)),!1}}},(q,m)=>{try{n.app={id:t,fields:{tab:{lookup:{code:"lookup",type:"DROP_DOWN",label:"",required:!0,noLabel:!0,options:[]},cascade:{code:"cascade",type:"SUBTABLE",label:"",noLabel:!0,fields:{field:{code:"field",type:"DROP_DOWN",label:"",required:!1,noLabel:!0,options:[]},order:{code:"order",type:"DROP_DOWN",label:"",required:!1,noLabel:!0,options:[{index:0,label:"asc"},{index:1,label:"desc"}]}}},dynamicFilter:{code:"dynamicFilter",
type:"SUBTABLE",label:"",noLabel:!0,fields:{external:{code:"external",type:"DROP_DOWN",label:kb.constants.config.caption.external[kb.operator.language],required:!1,noLabel:!0,options:[]},operator:{code:"operator",type:"DROP_DOWN",label:"",required:!1,noLabel:!0,options:[]},internal:{code:"internal",type:"DROP_DOWN",label:kb.constants.config.caption.internal[kb.operator.language],required:!1,noLabel:!0,options:[]}}},ignore:{code:"ignore",type:"CHECK_BOX",label:"",required:!1,noLabel:!0,options:[{index:0,
label:"ignore"}]},multiCopy:{code:"multiCopy",type:"SUBTABLE",label:"",noLabel:!0,fields:{external:{code:"external",type:"DROP_DOWN",label:kb.constants.config.caption.external[kb.operator.language],required:!1,noLabel:!0,options:[]},guide:{code:"guide",type:"SPACER",label:"",required:!1,noLabel:!0,contents:'<span class="kb-icon kb-icon-arrow kb-icon-arrow-right"></span>'},internal:{code:"internal",type:"DROP_DOWN",label:kb.constants.config.caption.internal[kb.operator.language],required:!1,noLabel:!0,
options:[]}}},container:{code:"container",type:"DROP_DOWN",label:kb.constants.config.caption.container[kb.operator.language],required:!1,noLabel:!1,options:[]},label:{code:"label",type:"SINGLE_LINE_TEXT",label:kb.constants.config.caption.label[kb.operator.language],required:!1,noLabel:!1,placeholder:""},message:{code:"message",type:"SINGLE_LINE_TEXT",label:kb.constants.config.caption.message[kb.operator.language],required:!1,noLabel:!1,placeholder:""},user:{code:"user",type:"USER_SELECT",label:kb.constants.config.caption.user[kb.operator.language],
required:!1,noLabel:!1,guestuser:!0},organization:{code:"organization",type:"ORGANIZATION_SELECT",label:kb.constants.config.caption.organization[kb.operator.language],required:!1,noLabel:!1},group:{code:"group",type:"GROUP_SELECT",label:kb.constants.config.caption.group[kb.operator.language],required:!1,noLabel:!1},tableCopy:{code:"tableCopy",type:"SUBTABLE",label:"",noLabel:!0,fields:{external:{code:"external",type:"DROP_DOWN",label:kb.constants.config.caption.external[kb.operator.language],required:!1,
noLabel:!0,options:[]},guide:{code:"guide",type:"SPACER",label:"",required:!1,noLabel:!0,contents:'<span class="kb-icon kb-icon-arrow kb-icon-arrow-right"></span>'},internal:{code:"internal",type:"DROP_DOWN",label:kb.constants.config.caption.internal[kb.operator.language],required:!1,noLabel:!0,options:[]},identifier:{code:"identifier",type:"DROP_DOWN",label:kb.constants.config.caption.identifier[kb.operator.language],required:!1,noLabel:!0,options:[]},button:{code:"button",type:"SPACER",label:kb.constants.config.caption.fields[kb.operator.language],
required:!1,noLabel:!0,contents:'<button class="kb-action-button">'+kb.constants.config.caption.fields.button[kb.operator.language]+"</button>"},fields:{code:"fields",type:"SINGLE_LINE_TEXT",label:"",required:!1,noLabel:!0,placeholder:""}}}},flat:{}},lookups:{fields:[],relatedApps:{}}};var l=(a,d,b)=>{0!=d.length?(g=>{kb.field.load(g.lookup.relatedApp.app).then(c=>{var f=c.origin[g.lookup.relatedKeyField];if(f.unique||"RECORD_NUMBER"==f.type)n.app.lookups.fields.push({code:g.code,label:g.label}),
n.app.lookups.relatedApps[g.code]=c;a++;a<d.length?l(a,d,b):b()})})(d[a]):b()},p=(a,d,b)=>{kb.record.set(a.panel,d,(()=>{a.panel.elm("[field-id=lookup]").elm("select").val(b.lookup.value).rebuild().then(g=>{a.tables.cascade.clearRows();b.cascade.value.each((c,f)=>{c.value.field.value in g.cascade&&(f=a.tables.cascade.addRow(),f.elm("[field-id=field]").elm("select").val(c.value.field.value),f.elm("[field-id=order]").elm("select").val(c.value.order.value))});0==a.tables.cascade.tr.length&&a.tables.cascade.addRow();
a.tables.dynamicFilter.clearRows();b.dynamicFilter.value.each((c,f)=>{c.value.external.value in g.dynamicFilter&&(e=>{e.elm("[field-id=external]").elm("select").val(c.value.external.value).rebuild().then(k=>{c.value.internal.value in k&&(e.elm("[field-id=operator]").elm("select").val(c.value.operator.value),e.elm("[field-id=internal]").elm("select").val(c.value.internal.value))})})(a.tables.dynamicFilter.addRow())});0==a.tables.dynamicFilter.tr.length&&a.tables.dynamicFilter.addRow();a.tables.multiCopy.clearRows();
b.multiCopy.value.each((c,f)=>{c.value.external.value in g.multiCopy&&(e=>{e.elm("[field-id=external]").elm("select").val(c.value.external.value).rebuild().then(k=>{c.value.internal.value in k&&e.elm("[field-id=internal]").elm("select").val(c.value.internal.value)})})(a.tables.multiCopy.addRow())});0==a.tables.multiCopy.tr.length&&a.tables.multiCopy.addRow();a.tables.tableCopy.clearRows();b.tableCopy.value.each((c,f)=>{c.value.external.value in g.tableCopy&&(e=>{e.elm("[field-id=external]").elm("select").val(c.value.external.value);
e.elm("[field-id=internal]").elm("select").val(c.value.internal.value).rebuild().then(k=>{c.value.identifier.value in k&&e.elm("[field-id=identifier]").elm("select").val(c.value.identifier.value)});e.elm("[field-id=fields]").elm("input").val(c.value.fields.value)})(a.tables.tableCopy.addRow())});0==a.tables.tableCopy.tr.length&&a.tables.tableCopy.addRow()});return b})())};kb.config[t].tabbed=new KintoneBoosterConfigTabbed(q,{add:a=>{(d=>{a.fields={external:{},internal:x};a.tables={cascade:kb.table.activate(kb.table.create(d.fields.cascade),
d),dynamicFilter:kb.table.create(d.fields.dynamicFilter,!1,!1,!1).spread((b,g)=>{b.elm(".kb-table-row-add").on("click",c=>{a.tables.dynamicFilter.insertRow(b)});b.elm(".kb-table-row-del").on("click",c=>{kb.confirm(kb.constants.common.message.confirm.delete[kb.operator.language],()=>{a.tables.dynamicFilter.delRow(b)})});(c=>{c.external.on("change",f=>f.currentTarget.rebuild()).rebuild=()=>new Promise((f,e)=>{c.operator.empty();c.internal.empty().assignOption([{code:"",label:""}],"label","code");if(c.external.val()){e=
{};c.operator.assignOption(kb.filter.query.operator(a.fields.external.parallelize[c.external.val()]),"label","code");for(var k in a.fields.internal.parallelize){var h=a.fields.internal.parallelize[k];h.tableCode&&h.tableCode!=a.fields.internal.parallelize[c.lookup.val()].tableCode||kb.field.typing(h,a.fields.external.parallelize[c.external.val()],!0)&&(e[h.code]=h)}c.internal.assignOption(Object.values(e),"label","code");f(e)}else f({})})})({lookup:a.panel.elm("[field-id=lookup]").elm("select"),external:b.elm("[field-id=external]").elm("select"),
operator:b.elm("[field-id=operator]").elm("select"),internal:b.elm("[field-id=internal]").elm("select")})},(b,g)=>{0==b.tr.length&&b.addRow()},!1),multiCopy:kb.table.create(d.fields.multiCopy,!1,!1,!1).addClass("kb-mapping").spread((b,g)=>{b.elm(".kb-table-row-add").on("click",c=>{a.tables.multiCopy.insertRow(b)});b.elm(".kb-table-row-del").on("click",c=>{kb.confirm(kb.constants.common.message.confirm.delete[kb.operator.language],()=>{a.tables.multiCopy.delRow(b)})});(c=>{c.external.on("change",f=>
f.currentTarget.rebuild()).rebuild=()=>new Promise((f,e)=>{c.internal.empty().assignOption([{code:"",label:""}],"label","code");if(c.external.val()){e={};for(var k in a.fields.internal.parallelize){var h=a.fields.internal.parallelize[k];h.tableCode&&(a.fields.internal.disables.includes(h.code)||kb.field.typing(a.fields.external.parallelize[c.external.val()],h)&&(e[h.code]=h))}c.internal.assignOption(Object.values(e),"label","code");f(e)}else f({})})})({external:b.elm("[field-id=external]").elm("select"),
internal:b.elm("[field-id=internal]").elm("select")})},(b,g)=>{0==b.tr.length&&b.addRow()},!1),tableCopy:kb.table.create(d.fields.tableCopy,!1,!1,!1).addClass("kb-mapping").spread((b,g)=>{b.elm(".kb-table-row-add").on("click",c=>{a.tables.tableCopy.insertRow(b)});b.elm(".kb-table-row-del").on("click",c=>{kb.confirm(kb.constants.common.message.confirm.delete[kb.operator.language],()=>{a.tables.tableCopy.delRow(b)})});(c=>{c.internal.on("change",f=>f.currentTarget.rebuild()).rebuild=()=>new Promise((f,
e)=>{c.identifier.empty().assignOption([{code:"",label:""}],"label","code");if(c.internal.val()){e={};for(var k in a.fields.internal.parallelize){var h=a.fields.internal.parallelize[k];h.tableCode==c.internal.val()&&(a.fields.internal.disables.includes(h.code)||["SINGLE_LINE_TEXT"].includes(h.type)&&(e[h.code]=h))}c.identifier.assignOption(Object.values(e),"label","code");f(e)}else f({})});c.button.on("click",f=>{c.external.val()&&c.internal.val()&&(e=>{e=e?JSON.parse(e):[];window.kb.tableCopyFields||
(window.kb.tableCopyFields={builder:new KintoneBoostertableCopyFieldsBuilder});kb.tableCopyFields.builder.show(e,a.fields.external.tables[c.external.val()].fields,(k=>{var h={},z;for(z in k){var v=k[z];a.fields.internal.disables.includes(v.code)||(h[v.code]=v)}return h})(a.fields.internal.tables[c.internal.val()].fields),k=>{kb.record.set(b,{id:n.app.id,fields:n.app.fields.tab.tableCopy.fields},{fields:{disabled:!0,value:JSON.stringify(k)}})})})(b.elm("[field-id=fields]").elm("input").val())})})({external:b.elm("[field-id=external]").elm("select"),
internal:b.elm("[field-id=internal]").elm("select"),identifier:b.elm("[field-id=identifier]").elm("select"),button:b.elm("[field-id=button]").elm("button")})},(b,g)=>{0==b.tr.length&&b.addRow()},!1)};a.panel.addClass("kb-scope").attr("form-id","form_"+d.id).append(kb.create("h1").html(kb.constants.config.caption.lookup[kb.operator.language])).append(kb.create("section").append(kb.create("p").html(kb.constants.config.description.lookup[kb.operator.language])).append((b=>{b.elm("select").empty().assignOption([{code:"",
label:""}].concat(n.app.lookups.fields),"label","code").on("change",g=>g.currentTarget.rebuild()).rebuild=()=>new Promise((g,c)=>{((f,e,k,h)=>{f.clearRows();f.template.elm("[field-id=field]").css({width:"100%"}).elm("select").empty().assignOption([{code:"",label:""}],"label","code");e.clearRows();e.template.elm("[field-id=external]").css({width:"100%"}).elm("select").empty().assignOption([{code:"",label:""}],"label","code");e.template.elm("[field-id=operator]").css({width:"100%"}).elm("select").empty();
e.template.elm("[field-id=internal]").css({width:"100%"}).elm("select").empty().assignOption([{code:"",label:""}],"label","code");k.clearRows();k.template.elm("[field-id=external]").css({width:"100%"}).elm("select").empty().assignOption([{code:"",label:""}],"label","code");k.template.elm("[field-id=internal]").css({width:"100%"}).elm("select").empty().assignOption([{code:"",label:""}],"label","code");k.template.elm("[field-id=guide]").css({width:"100%"}).parentNode.addClass("kb-mapping-guide");h.clearRows();
h.template.elm("[field-id=external]").css({width:"100%"}).elm("select").empty().assignOption([{code:"",label:""}],"label","code");h.template.elm("[field-id=internal]").css({width:"100%"}).elm("select").empty().assignOption([{code:"",label:""}],"label","code");h.template.elm("[field-id=identifier]").css({width:"100%"}).elm("select").empty().assignOption([{code:"",label:""}],"label","code");h.template.elm("[field-id=guide]").css({width:"100%"}).parentNode.addClass("kb-mapping-guide");b.elm("select").val()?
(z=>{a.fields.external=z;g((v=>{v={cascade:(u=>{var w={},y;for(y in u){var r=u[y];switch(r.type){case "CALC":case "DATE":case "DATETIME":case "DROP_DOWN":case "LINK":case "NUMBER":case "RADIO_BUTTON":case "SINGLE_LINE_TEXT":case "TIME":r.required&&(w[r.code]=r);break;case "RECORD_NUMBER":w[r.code]=r}}return w})(a.fields.external.origin),dynamicFilter:(u=>{var w={},y;for(y in u){var r=u[y];w[r.code]=r}return w})(a.fields.external.criterias),multiCopy:(u=>{var w={},y;for(y in u){var r=u[y];["CATEGORY"].includes(r.type)||
(w[r.code]=r)}return w})(a.fields.external.origin),tableCopy:a.fields.external.tables};a.fields.internal.parallelize[a.panel.elm("[field-id=lookup]").elm("select").val()].tableCode?(v.multiCopy={},k.template.elms(".kb-icon").each((u,w)=>u.attr("disabled","disabled"))):k.template.elms(".kb-icon").each((u,w)=>u.removeAttr("disabled"));f.template.elm("[field-id=field]").elm("select").assignOption(Object.values(v.cascade),"label","code");e.template.elm("[field-id=external]").elm("select").assignOption(Object.values(v.dynamicFilter),
"label","code");k.template.elm("[field-id=external]").elm("select").assignOption(Object.values(v.multiCopy),"label","code");h.template.elm("[field-id=external]").elm("select").assignOption(Object.values(v.tableCopy),"label","code");h.template.elm("[field-id=internal]").elm("select").assignOption(Object.values(a.fields.internal.tables),"label","code");f.addRow();e.addRow();k.addRow();h.addRow();return v})(b.elm("select").val()))})(n.app.lookups.relatedApps[b.elm("select").val()]):(f.addRow(),e.addRow(),
k.addRow(),h.addRow(),g({cascade:{},dynamicFilter:{},multiCopy:{},tableCopy:{}}))})(a.tables.cascade,a.tables.dynamicFilter,a.tables.multiCopy,a.tables.tableCopy)});return b})(kb.field.activate(kb.field.create(d.fields.lookup),d))).append(kb.create("p").addClass("kb-caution").html(kb.constants.config.description.lookup.caution[kb.operator.language]))).append(kb.create("h1").html(kb.constants.config.caption.cascade[kb.operator.language])).append(kb.create("section").append(kb.create("p").html(kb.constants.config.description.cascade[kb.operator.language])).append((b=>
{b.template.elm("[field-id=order]").elm("select").elms("option").each((g,c)=>{g.html(kb.constants.config.caption.cascade.order[kb.operator.language][c])});b.elm("thead").hide();return b})(a.tables.cascade)).append(kb.create("p").addClass("kb-caution").html(kb.constants.config.description.cascade.caution[kb.operator.language])).append(kb.create("p").addClass("kb-hint").html(kb.constants.config.description.lookup.initial[kb.operator.language]))).append(kb.create("h1").html(kb.constants.config.caption.dynamicFilter[kb.operator.language])).append(kb.create("section").append(kb.create("p").html(kb.constants.config.description.dynamicFilter[kb.operator.language])).append(a.tables.dynamicFilter).append(kb.field.activate((b=>
{b.elm("input").closest("label").elm("span").html(kb.constants.config.caption.ignore[kb.operator.language]);return b})(kb.field.create(d.fields.ignore).css({width:"100%"})),d)).append(kb.create("p").addClass("kb-hint").html(kb.constants.config.description.dynamicFilter.eneble[kb.operator.language])).append(kb.create("p").addClass("kb-hint").html(kb.constants.config.description.lookup.initial[kb.operator.language]))).append(kb.create("h1").html(kb.constants.config.caption.multiCopy[kb.operator.language])).append(kb.create("section").append(kb.create("p").html(kb.constants.config.description.multiCopy[kb.operator.language])).append(a.tables.multiCopy).append(kb.create("p").addClass("kb-caution").html(kb.constants.config.description.multiCopy.caution[kb.operator.language])).append(kb.create("h1").html(kb.constants.config.description.multiCopy.extra[kb.operator.language])).append(kb.create("section").append((b=>
{b.elm("select").empty().assignOption([{elementId:""}].concat(a.fields.internal.spacers),"elementId","elementId");return b})(kb.field.activate(kb.field.create(d.fields.container),d))).append(kb.create("p").addClass("kb-caution").html(kb.constants.config.description.container[kb.operator.language])).append(kb.field.activate(kb.field.create(d.fields.label).css({width:"100%"}),d)).append(kb.field.activate(kb.field.create(d.fields.message).css({width:"100%"}),d)).append(kb.field.activate(kb.field.create(d.fields.user).css({width:"100%"}),
d)).append(kb.field.activate(kb.field.create(d.fields.organization).css({width:"100%"}),d)).append(kb.field.activate(kb.field.create(d.fields.group).css({width:"100%"}),d)).append(kb.create("p").addClass("kb-caution").html(kb.constants.config.description.attachment[kb.operator.language])))).append(kb.create("h1").html(kb.constants.config.caption.tableCopy[kb.operator.language])).append(kb.create("section").append(kb.create("p").html(kb.constants.config.description.tableCopy[kb.operator.language])).append((b=>
{b.elm("thead").elms("th").last().addClass("kb-hidden");b.template.elms("td").each((g,c)=>{switch(c){case 4:g.elm("button").css({border:"none",margin:"0",padding:"1px 0.5em"});break;case 5:g.addClass("kb-hidden")}});return b})(a.tables.tableCopy)).append(kb.create("p").addClass("kb-caution").html(kb.constants.config.description.tableCopy.identifier[kb.operator.language])).append(kb.create("p").addClass("kb-caution").html(kb.constants.config.description.attachment[kb.operator.language])));a.panel.elm("[field-id=lookup]").elm("select").rebuild().then(b=>
{a.tables.cascade.clearRows();a.tables.dynamicFilter.clearRows();a.tables.multiCopy.clearRows();a.tables.tableCopy.clearRows();a.tables.cascade.addRow();a.tables.dynamicFilter.addRow();a.tables.multiCopy.addRow();a.tables.tableCopy.addRow()});a.panel.elms("input,select,textarea").each((b,g)=>b.initialize())})({id:n.app.id,fields:n.app.fields.tab})},copy:(a,d)=>{var b={id:n.app.id,fields:n.app.fields.tab};p(d,b,kb.record.get(a.panel,b,!0).record)},del:a=>{}});l(0,Object.values(x.parallelize).filter(a=>
a.lookup),()=>{0!=Object.keys(m).length?(a=>{a.each(d=>{var b={id:n.app.id,fields:n.app.fields.tab},g=kb.config[t].tabbed.add();p(g,b,d.setting);g.label.html(d.label)})})(JSON.parse(m.tab)):(a=>{a.panel.elm("[field-id=lookup]").elm("select").rebuild().then(d=>{a.tables.cascade.clearRows();a.tables.dynamicFilter.clearRows();a.tables.multiCopy.clearRows();a.tables.tableCopy.clearRows();a.tables.cascade.addRow();a.tables.dynamicFilter.addRow();a.tables.multiCopy.addRow();a.tables.tableCopy.addRow()})})(kb.config[t].tabbed.add())})}catch(a){kb.alert(kb.error.parse(a))}})});
window.KintoneBoostertableCopyFieldsBuilder=class extends KintoneBoosterDialog{constructor(){super(999996,!1,!1);this.app={id:"fieldsbuilder",fields:{fields:{code:"fields",type:"SUBTABLE",label:"",noLabel:!0,fields:{external:{code:"external",type:"DROP_DOWN",label:kb.constants.config.caption.external[kb.operator.language],required:!1,noLabel:!0,options:[]},guide:{code:"guide",type:"SPACER",label:"",required:!1,noLabel:!0,contents:'<span class="kb-icon kb-icon-arrow kb-icon-arrow-right"></span>'},
internal:{code:"internal",type:"DROP_DOWN",label:kb.constants.config.caption.internal[kb.operator.language],required:!1,noLabel:!0,options:[]}}}}};this.table=this.handler=null;this.header.css({paddingLeft:"0.25em",textAlign:"left"}).html("Copy Field Settings");this.container.css({height:"calc(100% - 1em)",width:"50em"});this.contents.css({padding:"0"}).append(kb.create("div").addClass("kb-scope").attr("form-id","form_"+this.app.id));window.on("resize",x=>{this.contents.css({height:"auto"}).css({height:this.container.innerHeight().toString()+
"px"})})}get(){return new Promise((x,q)=>{q=kb.record.get(this.contents,this.app);q.record.fields.value=q.record.fields.value.filter(m=>m.value.external.value&&m.value.internal.value);x(q)})}set(x,q){return new Promise((m,l)=>{this.table.clearRows();x.each((p,a)=>{p.value.external.value in q&&(d=>{d.elm("[field-id=external]").elm("select").val(p.value.external.value).rebuild().then(b=>{p.value.internal.value in b&&d.elm("[field-id=internal]").elm("select").val(p.value.internal.value)})})(this.table.addRow())});
0==this.table.tr.length&&this.table.addRow();m()})}show(x,q,m,l){(p=>{this.table=kb.table.create(this.app.fields.fields,!1,!1,!1).addClass("kb-mapping").spread((a,d)=>{a.elm(".kb-table-row-add").on("click",b=>{this.table.insertRow(a)});a.elm(".kb-table-row-del").on("click",b=>{kb.confirm(kb.constants.common.message.confirm.delete[kb.operator.language],()=>{this.table.delRow(a)})});(b=>{b.external.on("change",g=>g.currentTarget.rebuild()).rebuild=()=>new Promise((g,c)=>{b.internal.empty().assignOption([{code:"",
label:""}],"label","code");if(b.external.val()){c={};for(var f in m){var e=m[f];kb.field.typing(q[b.external.val()],e)&&(c[e.code]=e)}b.internal.assignOption(Object.values(c),"label","code");g(c)}else g({})})})({external:a.elm("[field-id=external]").elm("select"),internal:a.elm("[field-id=internal]").elm("select")})},(a,d)=>{0==a.tr.length&&a.addRow()},!1);p.append(this.table);this.table.clearRows();this.table.template.elm("[field-id=external]").css({width:"100%"}).elm("select").empty().assignOption([{code:"",
label:""}].concat(Object.values(q)),"label","code");this.table.template.elm("[field-id=internal]").css({width:"100%"}).elm("select").empty().assignOption([{code:"",label:""}],"label","code");this.table.template.elm("[field-id=guide]").css({width:"100%"}).parentNode.addClass("kb-mapping-guide");this.table.css({width:"100%"}).elm("thead").elm("th").nextSibling.addClass("kb-mapping-guide");this.table.addRow()})(this.contents.elm(".kb-scope").empty());this.handler&&(this.ok.off("click",this.handler),
this.cancel.off("click"));this.handler=p=>{this.get().then(a=>{a.error||(0!=a.record.fields.value.length?l(a.record.fields.value):l(""),this.hide())})};this.ok.on("click",this.handler);this.cancel.on("click",p=>this.hide());this.set(x,q).then(()=>{this.contents.css({height:"auto"}).css({height:this.container.innerHeight().toString()+"px"});super.show()})}}})(kintone.$PLUGIN_ID);
kb.constants=kb.extend({config:{caption:{cascade:{en:"Cascade",ja:"\u30ab\u30b9\u30b1\u30fc\u30c9",zh:"\u7ea7\u8054","zh-TW":"\u7d1a\u806f",order:{ja:["\u6607\u9806","\u964d\u9806"],en:["ASC","DESC"],zh:["\u5347\u5e8f","\u964d\u5e8f"],"zh-TW":["\u5347\u5e8f","\u964d\u5e8f"]}},container:{en:"Space field to place the copy button",ja:"\u30b3\u30d4\u30fc\u30dc\u30bf\u30f3\u3092\u914d\u7f6e\u3059\u308b\u30b9\u30da\u30fc\u30b9\u30d5\u30a3\u30fc\u30eb\u30c9",zh:"\u7528\u4e8e\u653e\u7f6e\u590d\u5236\u6309\u94ae\u7684\u7a7a\u95f4\u5b57\u6bb5",
"zh-TW":"\u7528\u65bc\u653e\u7f6e\u8907\u88fd\u6309\u9215\u7684\u7a7a\u9593\u6b04\u4f4d"},dynamicFilter:{en:"Dynamic Filtering",ja:"\u52d5\u7684\u7d5e\u308a\u8fbc\u307f",zh:"\u52a8\u6001\u7b5b\u9009","zh-TW":"\u52d5\u614b\u7be9\u9078"},external:{en:"Datasource App",ja:"\u53c2\u7167\u5143\u30a2\u30d7\u30ea\u306e\u30d5\u30a3\u30fc\u30eb\u30c9",zh:"\u53c2\u8003\u6e90\u5e94\u7528\u7684\u5b57\u6bb5","zh-TW":"\u53c3\u8003\u6e90\u61c9\u7528\u7684\u5b57\u6bb5"},fields:{en:"Copy Field Settings",ja:"\u30b3\u30d4\u30fc\u30d5\u30a3\u30fc\u30eb\u30c9\u306e\u8a2d\u5b9a",
zh:"\u590d\u5236\u5b57\u6bb5\u8bbe\u7f6e","zh-TW":"\u8907\u88fd\u6b04\u4f4d\u8a2d\u5b9a",button:{en:"Open Settings",ja:"\u8a2d\u5b9a\u753b\u9762\u3092\u958b\u304f",zh:"\u6253\u5f00\u8bbe\u7f6e","zh-TW":"\u958b\u555f\u8a2d\u5b9a"}},group:{en:"If you want to use the group to which the logged-in user belongs as a basis for copy permission, please specify the group that is permitted.",ja:"\u30ed\u30b0\u30a4\u30f3\u30e6\u30fc\u30b6\u30fc\u304c\u6240\u5c5e\u3059\u308b\u30b0\u30eb\u30fc\u30d7\u3092\u30b3\u30d4\u30fc\u8a31\u53ef\u306e\u5224\u65ad\u3068\u3057\u305f\u3044\u5834\u5408\u306f\u3001\u8a31\u53ef\u3059\u308b\u30b0\u30eb\u30fc\u30d7\u3092\u6307\u5b9a\u3057\u3066\u4e0b\u3055\u3044\u3002",
zh:"\u5982\u679c\u60a8\u60f3\u4ee5\u767b\u5f55\u7528\u6237\u6240\u5c5e\u7684\u7ec4\u4f5c\u4e3a\u590d\u5236\u6743\u9650\u7684\u5224\u65ad\u4f9d\u636e\uff0c\u8bf7\u6307\u5b9a\u5141\u8bb8\u7684\u7ec4\u3002","zh-TW":"\u5982\u679c\u60a8\u60f3\u4ee5\u767b\u5165\u7528\u6236\u6240\u5c6c\u7684\u7fa4\u7d44\u4f5c\u70ba\u8907\u88fd\u6b0a\u9650\u7684\u5224\u65b7\u4f9d\u64da\uff0c\u8acb\u6307\u5b9a\u5141\u8a31\u7684\u7fa4\u7d44\u3002"},identifier:{en:"Source Lookup Identifier Field",ja:"\u30b3\u30d4\u30fc\u5143\u30eb\u30c3\u30af\u30a2\u30c3\u30d7\u8b58\u5225\u30d5\u30a3\u30fc\u30eb\u30c9",
zh:"\u590d\u5236\u6765\u6e90Lookup\u6807\u8bc6\u5b57\u6bb5","zh-TW":"\u8907\u88fd\u4f86\u6e90Lookup\u8b58\u5225\u6b04\u4f4d"},ignore:{en:"If the linkage field of this app is empty, ignore the linkage",ja:"\u3053\u306e\u30a2\u30d7\u30ea\u306e\u95a2\u9023\u4ed8\u3051\u30d5\u30a3\u30fc\u30eb\u30c9\u304c\u7a7a\u3067\u3042\u308b\u5834\u5408\u306f\u3001\u305d\u306e\u95a2\u9023\u4ed8\u3051\u3092\u7121\u8996\u3059\u308b",zh:"\u5982\u679c\u6b64\u5e94\u7528\u7684\u5173\u8054\u5b57\u6bb5\u4e3a\u7a7a\uff0c\u5219\u5ffd\u7565\u8be5\u5173\u8054",
"zh-TW":"\u5982\u679c\u6b64\u61c9\u7528\u7684\u95dc\u806f\u6b04\u4f4d\u70ba\u7a7a\uff0c\u5247\u5ffd\u7565\u8a72\u95dc\u806f"},internal:{en:"This App",ja:"\u3053\u306e\u30a2\u30d7\u30ea\u306e\u30d5\u30a3\u30fc\u30eb\u30c9",zh:"\u6b64\u5e94\u7528\u7684\u5b57\u6bb5","zh-TW":"\u6b64\u61c9\u7528\u7684\u5b57\u6bb5"},label:{en:"Copy Button Label",ja:"\u30b3\u30d4\u30fc\u30dc\u30bf\u30f3\u306e\u30e9\u30d9\u30eb\u30c6\u30ad\u30b9\u30c8",zh:"\u590d\u5236\u6309\u94ae\u6807\u7b7e\u6587\u672c","zh-TW":"\u8907\u88fd\u6309\u9215\u6a19\u7c64\u6587\u672c"},
lookup:{en:"Lookup field to configure",ja:"\u8a2d\u5b9a\u306e\u5bfe\u8c61\u3068\u306a\u308b\u30eb\u30c3\u30af\u30a2\u30c3\u30d7\u30d5\u30a3\u30fc\u30eb\u30c9",zh:"\u8981\u914d\u7f6e\u7684 Lookup \u5b57\u6bb5","zh-TW":"\u8981\u8a2d\u5b9a\u7684 Lookup \u6b04\u4f4d"},message:{en:"Confirmation Message Before Starting Copy",ja:"\u30b3\u30d4\u30fc\u958b\u59cb\u524d\u306e\u78ba\u8a8d\u30e1\u30c3\u30bb\u30fc\u30b8",zh:"\u590d\u5236\u5f00\u59cb\u524d\u7684\u786e\u8ba4\u4fe1\u606f","zh-TW":"\u8907\u88fd\u958b\u59cb\u524d\u7684\u78ba\u8a8d\u4fe1\u606f"},
multiCopy:{en:"Multi Copy",ja:"\u30de\u30eb\u30c1\u30b3\u30d4\u30fc",zh:"\u591a\u91cd\u590d\u5236","zh-TW":"\u591a\u91cd\u8907\u88fd"},organization:{en:"If you want to use the organization to which the logged-in user belongs as a basis for copy permission, please specify the organization that is permitted.",ja:"\u30ed\u30b0\u30a4\u30f3\u30e6\u30fc\u30b6\u30fc\u304c\u6240\u5c5e\u3059\u308b\u7d44\u7e54\u3092\u30b3\u30d4\u30fc\u8a31\u53ef\u306e\u5224\u65ad\u3068\u3057\u305f\u3044\u5834\u5408\u306f\u3001\u8a31\u53ef\u3059\u308b\u7d44\u7e54\u3092\u6307\u5b9a\u3057\u3066\u4e0b\u3055\u3044\u3002",
zh:"\u5982\u679c\u60a8\u60f3\u4ee5\u767b\u5f55\u7528\u6237\u6240\u5c5e\u7684\u7ec4\u7ec7\u4f5c\u4e3a\u590d\u5236\u6743\u9650\u7684\u5224\u65ad\u4f9d\u636e\uff0c\u8bf7\u6307\u5b9a\u5141\u8bb8\u7684\u7ec4\u7ec7\u3002","zh-TW":"\u5982\u679c\u60a8\u60f3\u4ee5\u767b\u5165\u7528\u6236\u6240\u5c6c\u7684\u7d44\u7e54\u4f5c\u70ba\u8907\u88fd\u6b0a\u9650\u7684\u5224\u65b7\u4f9d\u64da\uff0c\u8acb\u6307\u5b9a\u5141\u8a31\u7684\u7d44\u7e54\u3002"},tableCopy:{en:"Table Copy",ja:"\u30c6\u30fc\u30d6\u30eb\u30b3\u30d4\u30fc",
zh:"\u8868\u683c\u590d\u5236","zh-TW":"\u8868\u683c\u8907\u88fd"},user:{en:"If you want to use the logged-in user as a basis for copy permission, please specify the user that is permitted.",ja:"\u30ed\u30b0\u30a4\u30f3\u30e6\u30fc\u30b6\u30fc\u3092\u30b3\u30d4\u30fc\u8a31\u53ef\u306e\u5224\u65ad\u3068\u3057\u305f\u3044\u5834\u5408\u306f\u3001\u8a31\u53ef\u3059\u308b\u30e6\u30fc\u30b6\u30fc\u3092\u6307\u5b9a\u3057\u3066\u4e0b\u3055\u3044\u3002",zh:"\u5982\u679c\u60a8\u60f3\u4ee5\u767b\u5f55\u7528\u6237\u672c\u8eab\u4f5c\u4e3a\u590d\u5236\u6743\u9650\u7684\u5224\u65ad\u4f9d\u636e\uff0c\u8bf7\u6307\u5b9a\u5141\u8bb8\u7684\u7528\u6237\u3002",
"zh-TW":"\u5982\u679c\u60a8\u60f3\u4ee5\u767b\u5165\u7528\u6236\u672c\u8eab\u4f5c\u70ba\u8907\u88fd\u6b0a\u9650\u7684\u5224\u65b7\u4f9d\u64da\uff0c\u8acb\u6307\u5b9a\u5141\u8a31\u7684\u7528\u6236\u3002"}},description:{attachment:{en:'If any of the fields to be copied include an attachment field, please also install <a href="https://kintone-booster.com/en/attachment.html" style="line-height:inherit;" target="_blank">Boost! Attachment</a> in this app and enable either "Copy Table Rows" or "Table Sorting". (PC version only)',
ja:'\u30b3\u30d4\u30fc\u3059\u308b\u30d5\u30a3\u30fc\u30eb\u30c9\u306e\u4e2d\u306b\u6dfb\u4ed8\u30d5\u30a1\u30a4\u30eb\u30d5\u30a3\u30fc\u30eb\u30c9\u304c\u542b\u307e\u308c\u3066\u3044\u308b\u5834\u5408\u306f\u3001\u3053\u306e\u30a2\u30d7\u30ea\u306b<a href="https://kintone-booster.com/ja/attachment.html" style="line-height:inherit;" target="_blank">Boost! Attachment</a>\u3082\u8ffd\u52a0\u30a4\u30f3\u30b9\u30c8\u30fc\u30eb\u3057\u3001\u300c\u30c6\u30fc\u30d6\u30eb\u884c\u306e\u30b3\u30d4\u30fc\u300d\u3082\u3057\u304f\u306f\u300c\u30c6\u30fc\u30d6\u30eb\u306e\u4e26\u3073\u66ff\u3048\u300d\u3092\u6709\u52b9\u306b\u3057\u3066\u4e0b\u3055\u3044\u3002\uff08PC\u7248\u306e\u307f\uff09',
zh:'\u5982\u679c\u8981\u590d\u5236\u7684\u5b57\u6bb5\u4e2d\u5305\u542b\u9644\u4ef6\u5b57\u6bb5\uff0c\u8bf7\u5728\u672c\u5e94\u7528\u4e2d\u989d\u5916\u5b89\u88c5 <a href="https://kintone-booster.com/zh/attachment.html" style="line-height:inherit;" target="_blank">Boost! Attachment</a>\uff0c\u5e76\u542f\u7528\u201c\u590d\u5236\u8868\u683c\u884c\u201d\u6216\u201c\u8868\u683c\u6392\u5e8f\u201d\u529f\u80fd\u3002\uff08\u4ec5\u9650PC\u7248\uff09',"zh-TW":'\u5982\u679c\u8981\u8907\u88fd\u7684\u6b04\u4f4d\u4e2d\u5305\u542b\u9644\u4ef6\u6b04\u4f4d\uff0c\u8acb\u5728\u672c\u61c9\u7528\u4e2d\u53e6\u5916\u5b89\u88dd <a href="https://kintone-booster.com/zh/attachment.html" style="line-height:inherit;" target="_blank">Boost! Attachment</a>\uff0c\u4e26\u555f\u7528\u300c\u8907\u88fd\u8868\u683c\u5217\u300d\u6216\u300c\u8868\u683c\u6392\u5e8f\u300d\u529f\u80fd\u3002\uff08\u50c5\u9650PC\u7248\uff09'},
cascade:{en:"This feature generates dropdowns from the source app of the Lookup and adds the selected values as filter conditions. When using this feature, please specify the fields to be used as dropdowns and the order in which they should be displayed.",ja:"\u30eb\u30c3\u30af\u30a2\u30c3\u30d7\u306e\u53c2\u7167\u5143\u30a2\u30d7\u30ea\u306e\u30c7\u30fc\u30bf\u3092\u3082\u3068\u306b\u30c9\u30ed\u30c3\u30d7\u30c0\u30a6\u30f3\u3092\u751f\u6210\u3057\u3001\u9078\u629e\u3055\u308c\u305f\u5024\u3092\u30eb\u30c3\u30af\u30a2\u30c3\u30d7\u306e\u7d5e\u308a\u8fbc\u307f\u6761\u4ef6\u306b\u8ffd\u52a0\u3057\u307e\u3059\u3002\u3053\u306e\u6a5f\u80fd\u3092\u4f7f\u7528\u3059\u308b\u5834\u5408\u306f\u3001\u30c9\u30ed\u30c3\u30d7\u30c0\u30a6\u30f3\u306b\u3057\u305f\u3044\u30d5\u30a3\u30fc\u30eb\u30c9\u3068\u3001\u305d\u308c\u3089\u3092\u8868\u793a\u3059\u308b\u9806\u5e8f\u3092\u6307\u5b9a\u3057\u3066\u304f\u3060\u3055\u3044\u3002",
zh:"\u8be5\u529f\u80fd\u4f1a\u6839\u636e Lookup \u7684\u6765\u6e90\u5e94\u7528\u751f\u6210\u4e0b\u62c9\u6846\uff0c\u5e76\u5c06\u6240\u9009\u7684\u503c\u4f5c\u4e3a\u7b5b\u9009\u6761\u4ef6\u6dfb\u52a0\u5230 Lookup \u4e2d\u3002\u4f7f\u7528\u8be5\u529f\u80fd\u65f6\uff0c\u8bf7\u6307\u5b9a\u8981\u8bbe\u4e3a\u4e0b\u62c9\u6846\u7684\u5b57\u6bb5\u53ca\u5176\u663e\u793a\u987a\u5e8f\u3002","zh-TW":"\u6b64\u529f\u80fd\u6703\u6839\u64da Lookup \u7684\u4f86\u6e90\u61c9\u7528\u7522\u751f\u4e0b\u62c9\u9078\u55ae\uff0c\u4e26\u5c07\u6240\u9078\u7684\u503c\u4f5c\u70ba\u7be9\u9078\u689d\u4ef6\u52a0\u5165\u5230 Lookup \u4e2d\u3002\u4f7f\u7528\u6b64\u529f\u80fd\u6642\uff0c\u8acb\u6307\u5b9a\u8981\u8a2d\u70ba\u4e0b\u62c9\u9078\u55ae\u7684\u6b04\u4f4d\u53ca\u5176\u986f\u793a\u9806\u5e8f\u3002",
caution:{en:'Only fields that are marked as "Required field" can be specified.',ja:"\u6307\u5b9a\u51fa\u6765\u308b\u30d5\u30a3\u30fc\u30eb\u30c9\u306f\u300c\u5fc5\u9808\u9805\u76ee\u306b\u3059\u308b\u300d\u306b\u30c1\u30a7\u30c3\u30af\u304c\u5165\u3063\u3066\u3044\u308b\u3082\u306e\u306b\u9650\u3089\u308c\u307e\u3059\u3002",zh:"\u53ea\u80fd\u6307\u5b9a\u5df2\u52fe\u9009\u4e3a\u201c\u8bbe\u4e3a\u5fc5\u586b\u9879\u201d\u7684\u5b57\u6bb5\u3002","zh-TW":"\u53ea\u80fd\u6307\u5b9a\u5df2\u52fe\u9078\u70ba\u300c\u8a2d\u70ba\u5fc5\u586b\u9805\u300d\u7684\u6b04\u4f4d\u3002"}},
container:{en:"Blank Spaces without an Element ID are not eligible.",ja:"\u8981\u7d20ID\u304c\u672a\u5165\u529b\u306e\u30b9\u30da\u30fc\u30b9\u30d5\u30a3\u30fc\u30eb\u30c9\u306f\u5bfe\u8c61\u5916\u3067\u3059\u3002",zh:"\u672a\u8f93\u5165\u5143\u7d20ID\u7684\u7a7a\u767d\u680f\u4e0d\u9002\u7528\u3002","zh-TW":"\u672a\u8f38\u5165\u5143\u7d20ID\u7684\u7a7a\u767d\u6b04\u4e0d\u9069\u7528\u3002"},dynamicFilter:{en:"This feature adds filter conditions to the Lookup based on the values of other fields in the form. To use this feature, please specify the mapping between the fields in the source app and the fields in this app.",
ja:"\u30d5\u30a9\u30fc\u30e0\u5185\u306e\u4ed6\u306e\u30d5\u30a3\u30fc\u30eb\u30c9\u306e\u5024\u3092\u53c2\u7167\u3057\u3001\u305d\u308c\u3089\u3092\u30eb\u30c3\u30af\u30a2\u30c3\u30d7\u306e\u7d5e\u308a\u8fbc\u307f\u6761\u4ef6\u306b\u8ffd\u52a0\u3057\u307e\u3059\u3002\u3053\u306e\u6a5f\u80fd\u3092\u4f7f\u7528\u3059\u308b\u5834\u5408\u306f\u3001\u53c2\u7167\u5143\u30a2\u30d7\u30ea\u306e\u30d5\u30a3\u30fc\u30eb\u30c9\u3068\u3053\u306e\u30a2\u30d7\u30ea\u306e\u30d5\u30a3\u30fc\u30eb\u30c9\u306e\u95a2\u9023\u4ed8\u3051\u3092\u6307\u5b9a\u3057\u3066\u304f\u3060\u3055\u3044\u3002",
zh:"\u8be5\u529f\u80fd\u4f1a\u6839\u636e\u8868\u5355\u4e2d\u5176\u4ed6\u5b57\u6bb5\u7684\u503c\uff0c\u4e3a Lookup \u6dfb\u52a0\u7b5b\u9009\u6761\u4ef6\u3002\u4f7f\u7528\u6b64\u529f\u80fd\u65f6\uff0c\u8bf7\u6307\u5b9a\u6765\u6e90\u5e94\u7528\u5b57\u6bb5\u4e0e\u672c\u5e94\u7528\u5b57\u6bb5\u4e4b\u95f4\u7684\u5173\u8054\u5173\u7cfb\u3002","zh-TW":"\u6b64\u529f\u80fd\u6703\u6839\u64da\u8868\u55ae\u4e2d\u5176\u4ed6\u6b04\u4f4d\u7684\u503c\uff0c\u70ba Lookup \u6dfb\u52a0\u7be9\u9078\u689d\u4ef6\u3002\u4f7f\u7528\u6b64\u529f\u80fd\u6642\uff0c\u8acb\u6307\u5b9a\u4f86\u6e90\u61c9\u7528\u6b04\u4f4d\u8207\u672c\u61c9\u7528\u6b04\u4f4d\u4e4b\u9593\u7684\u95dc\u806f\u95dc\u4fc2\u3002",
eneble:{en:'If the linkage field of this app is set to a field specified as "Field mappings" in the Lookup field settings, that field will become editable.',ja:"\u3053\u306e\u30a2\u30d7\u30ea\u306e\u95a2\u9023\u4ed8\u3051\u30d5\u30a3\u30fc\u30eb\u30c9\u306b\u30eb\u30c3\u30af\u30a2\u30c3\u30d7\u30d5\u30a3\u30fc\u30eb\u30c9\u306e\u8a2d\u5b9a\u753b\u9762\u3067\u300c\u307b\u304b\u306e\u30d5\u30a3\u30fc\u30eb\u30c9\u306e\u30b3\u30d4\u30fc\u300d\u3068\u3057\u3066\u6307\u5b9a\u3055\u308c\u305f\u30d5\u30a3\u30fc\u30eb\u30c9\u3092\u6307\u5b9a\u3059\u308b\u3068\u3001\u305d\u306e\u30d5\u30a3\u30fc\u30eb\u30c9\u306f\u5165\u529b\u304c\u53ef\u80fd\u306a\u72b6\u614b\u3078\u5909\u66f4\u3055\u308c\u307e\u3059\u3002",
zh:"\u5982\u679c\u6b64\u5e94\u7528\u7684\u5173\u8054\u5b57\u6bb5\u8bbe\u7f6e\u4e3a Lookup \u5b57\u6bb5\u8bbe\u7f6e\u753b\u9762\u4e2d\u6307\u5b9a\u4e3a\u201c\u5176\u4ed6\u8981\u590d\u5236\u7684\u5b57\u6bb5\u201d\u7684\u5b57\u6bb5\uff0c\u5219\u8be5\u5b57\u6bb5\u5c06\u53d8\u4e3a\u53ef\u8f93\u5165\u72b6\u6001\u3002","zh-TW":"\u5982\u679c\u6b64\u61c9\u7528\u7684\u95dc\u806f\u6b04\u4f4d\u8a2d\u70ba Lookup \u6b04\u4f4d\u8a2d\u5b9a\u756b\u9762\u4e2d\u6307\u5b9a\u70ba\u300c\u6b04\u4f4d\u5c0d\u61c9\u300d\u7684\u6b04\u4f4d\uff0c\u5247\u8a72\u6b04\u4f4d\u5c07\u8b8a\u70ba\u53ef\u8f38\u5165\u72c0\u614b\u3002"}},
lookup:{en:"Please specify the Lookup field to which the following settings will apply.",ja:"\u4ee5\u4e0b\u306e\u8a2d\u5b9a\u306e\u5bfe\u8c61\u3068\u306a\u308b\u30eb\u30c3\u30af\u30a2\u30c3\u30d7\u30d5\u30a3\u30fc\u30eb\u30c9\u3092\u6307\u5b9a\u3057\u3066\u4e0b\u3055\u3044\u3002",zh:"\u8bf7\u6307\u5b9a\u8981\u5e94\u7528\u4ee5\u4e0b\u8bbe\u7f6e\u7684 Lookup \u5b57\u6bb5\u3002","zh-TW":"\u8acb\u6307\u5b9a\u8981\u5957\u7528\u4ee5\u4e0b\u8a2d\u5b9a\u7684 Lookup \u6b04\u4f4d\u3002",caution:{en:'You can only select Lookup fields whose "Key field" is set to a field in the source app that has "Prohibit duplicate values" checked.',
ja:"\u6307\u5b9a\u51fa\u6765\u308b\u30eb\u30c3\u30af\u30a2\u30c3\u30d7\u30d5\u30a3\u30fc\u30eb\u30c9\u306f\u3001\u30eb\u30c3\u30af\u30a2\u30c3\u30d7\u30d5\u30a3\u30fc\u30eb\u30c9\u306e\u8a2d\u5b9a\u753b\u9762\u3067\u300c\u30b3\u30d4\u30fc\u5143\u306e\u30d5\u30a3\u30fc\u30eb\u30c9\u300d\u3068\u3057\u3066\u6307\u5b9a\u3055\u308c\u305f\u53c2\u7167\u5143\u30a2\u30d7\u30ea\u5185\u306e\u30d5\u30a3\u30fc\u30eb\u30c9\u306b\u304a\u3044\u3066\u3001\u300c\u5024\u306e\u91cd\u8907\u3092\u7981\u6b62\u3059\u308b\u300d\u306b\u30c1\u30a7\u30c3\u30af\u304c\u5165\u3063\u3066\u3044\u308b\u3082\u306e\u306b\u9650\u3089\u308c\u307e\u3059\u3002",
zh:"\u4ec5\u53ef\u9009\u62e9\u5176\u201c\u8981\u590d\u5236\u7684\u5b57\u6bb5\u201d\u8bbe\u4e3a\u6765\u6e90\u5e94\u7528\u4e2d\u542f\u7528\u4e86\u201c\u503c\u4e3a\u552f\u4e00\u201d\u7684\u5b57\u6bb5\u7684 Lookup \u5b57\u6bb5\u3002","zh-TW":"\u50c5\u53ef\u9078\u64c7\u5176\u300c\u7d22\u5f15\u9375\u6b04\u4f4d\u300d\u8a2d\u70ba\u4f86\u6e90\u61c9\u7528\u4e2d\u555f\u7528\u4e86\u300c\u503c\u70ba\u552f\u4e00\u300d\u7684\u6b04\u4f4d\u7684 Lookup \u6b04\u4f4d\u3002"},initial:{en:'The "Initial filter setting" specified in the Lookup field\'s configuration screen will be retained along with the above filter conditions.',
ja:"\u30eb\u30c3\u30af\u30a2\u30c3\u30d7\u30d5\u30a3\u30fc\u30eb\u30c9\u306e\u8a2d\u5b9a\u753b\u9762\u3067\u6307\u5b9a\u3057\u305f\u300c\u7d5e\u308a\u8fbc\u307f\u306e\u521d\u671f\u8a2d\u5b9a\u300d\u306f\u3001\u4e0a\u8a18\u306e\u7d5e\u308a\u8fbc\u307f\u8a2d\u5b9a\u3068\u4f75\u305b\u3066\u7dad\u6301\u3055\u308c\u307e\u3059\u3002",zh:"\u5728 Lookup \u5b57\u6bb5\u7684\u8bbe\u7f6e\u753b\u9762\u4e2d\u6307\u5b9a\u7684\u201c\u9ed8\u8ba4\u7b5b\u9009\u201d\u5c06\u4e0e\u4e0a\u8ff0\u7b5b\u9009\u6761\u4ef6\u4e00\u8d77\u4fdd\u7559\u3002",
"zh-TW":"\u5728 Lookup \u6b04\u4f4d\u7684\u8a2d\u5b9a\u756b\u9762\u4e2d\u6307\u5b9a\u7684\u300c\u7be9\u9078\u7684\u521d\u59cb\u8a2d\u5b9a\u300d\u5c07\u8207\u4e0a\u8ff0\u7be9\u9078\u689d\u4ef6\u4e00\u4f75\u4fdd\u7559\u3002"}},multiCopy:{en:"This feature copies records from the source app of the Lookup into a table, based on the filter conditions specified in this plugin. To use this feature, please specify the mapping between the fields in the source app and the fields in this app, along with the related items.",
ja:"\u30eb\u30c3\u30af\u30a2\u30c3\u30d7\u306e\u53c2\u7167\u5143\u30a2\u30d7\u30ea\u306e\u30ec\u30b3\u30fc\u30c9\u304b\u3089\u672c\u30d7\u30e9\u30b0\u30a4\u30f3\u3067\u6307\u5b9a\u3057\u305f\u7d5e\u308a\u8fbc\u307f\u6761\u4ef6\u306b\u5408\u81f4\u3059\u308b\u3082\u306e\u3092\u30c6\u30fc\u30d6\u30eb\u306b\u30b3\u30d4\u30fc\u3057\u307e\u3059\u3002\u3053\u306e\u6a5f\u80fd\u3092\u4f7f\u7528\u3059\u308b\u5834\u5408\u306f\u3001\u53c2\u7167\u5143\u30a2\u30d7\u30ea\u306e\u30d5\u30a3\u30fc\u30eb\u30c9\u3068\u3053\u306e\u30a2\u30d7\u30ea\u306e\u30d5\u30a3\u30fc\u30eb\u30c9\u306e\u95a2\u9023\u4ed8\u3051\u3001\u304a\u3088\u3073\u95a2\u9023\u9805\u76ee\u3092\u6307\u5b9a\u3057\u3066\u304f\u3060\u3055\u3044\u3002",
zh:"\u8be5\u529f\u80fd\u4f1a\u6839\u636e\u672c\u63d2\u4ef6\u4e2d\u6307\u5b9a\u7684\u7b5b\u9009\u6761\u4ef6\uff0c\u5c06 Lookup \u7684\u6765\u6e90\u5e94\u7528\u4e2d\u7684\u8bb0\u5f55\u590d\u5236\u5230\u8868\u683c\u4e2d\u3002\u4f7f\u7528\u6b64\u529f\u80fd\u65f6\uff0c\u8bf7\u6307\u5b9a\u6765\u6e90\u5e94\u7528\u5b57\u6bb5\u4e0e\u672c\u5e94\u7528\u5b57\u6bb5\u4e4b\u95f4\u7684\u5173\u8054\u5173\u7cfb\uff0c\u4ee5\u53ca\u76f8\u5173\u7684\u9879\u76ee\u3002","zh-TW":"\u6b64\u529f\u80fd\u6703\u6839\u64da\u672c\u63d2\u4ef6\u4e2d\u6307\u5b9a\u7684\u7be9\u9078\u689d\u4ef6\uff0c\u5c07 Lookup \u7684\u4f86\u6e90\u61c9\u7528\u4e2d\u7684\u8a18\u9304\u8907\u88fd\u5230\u8868\u683c\u4e2d\u3002\u4f7f\u7528\u6b64\u529f\u80fd\u6642\uff0c\u8acb\u6307\u5b9a\u4f86\u6e90\u61c9\u7528\u6b04\u4f4d\u8207\u672c\u61c9\u7528\u6b04\u4f4d\u4e4b\u9593\u7684\u95dc\u806f\u95dc\u4fc2\uff0c\u4ee5\u53ca\u76f8\u95dc\u9805\u76ee\u3002",
caution:{en:"This feature is not available for Lookup fields placed inside a table.",ja:"\u30de\u30eb\u30c1\u30b3\u30d4\u30fc\u6a5f\u80fd\u306f\u30c6\u30fc\u30d6\u30eb\u5185\u306b\u914d\u7f6e\u3055\u308c\u305f\u30eb\u30c3\u30af\u30a2\u30c3\u30d7\u30d5\u30a3\u30fc\u30eb\u30c9\u3067\u306f\u4f7f\u7528\u3067\u304d\u307e\u305b\u3093\u3002",zh:"\u6b64\u529f\u80fd\u4e0d\u9002\u7528\u4e8e\u653e\u7f6e\u5728\u8868\u683c\u4e2d\u7684 Lookup \u5b57\u6bb5\u3002","zh-TW":"\u6b64\u529f\u80fd\u4e0d\u9069\u7528\u65bc\u653e\u7f6e\u5728\u8868\u683c\u4e2d\u7684 Lookup \u6b04\u4f4d\u3002"},
extra:{en:"When copying a referenced record to a table within the app, specify the destination field (This App) and also make the following settings.",ja:"\u53c2\u7167\u3057\u305f\u30ec\u30b3\u30fc\u30c9\u3092\u30a2\u30d7\u30ea\u5185\u306e\u30c6\u30fc\u30d6\u30eb\u306b\u30b3\u30d4\u30fc\u3059\u308b\u5834\u5408\u306f\u3001\u30b3\u30d4\u30fc\u5148\u30d5\u30a3\u30fc\u30eb\u30c9\uff08\u3053\u306e\u30a2\u30d7\u30ea\u306e\u30d5\u30a3\u30fc\u30eb\u30c9\uff09\u3092\u6307\u5b9a\u3057\u305f\u4e0a\u3067\u3001\u4ee5\u4e0b\u306e\u8a2d\u5b9a\u3082\u884c\u3063\u3066\u4e0b\u3055\u3044\u3002",
zh:"\u5728\u5c06\u5f15\u7528\u7684\u8bb0\u5f55\u590d\u5236\u5230\u5e94\u7528\u5185\u7684\u8868\u4e2d\u65f6\uff0c\u8bf7\u6307\u5b9a\u76ee\u6807\u5b57\u6bb5\uff08\u6b64\u5e94\u7528\u7684\u5b57\u6bb5\uff09\uff0c\u5e76\u8fdb\u884c\u4ee5\u4e0b\u8bbe\u7f6e\u3002","zh-TW":"\u5c07\u53c3\u8003\u7684\u8a18\u9304\u8907\u88fd\u5230\u61c9\u7528\u5167\u7684\u8868\u683c\u6642\uff0c\u8acb\u6307\u5b9a\u76ee\u6a19\u5b57\u6bb5\uff08\u6b64\u61c9\u7528\u7684\u5b57\u6bb5\uff09\uff0c\u4e26\u9032\u884c\u4ee5\u4e0b\u8a2d\u7f6e\u3002"}},
tableCopy:{en:"This feature copies table data from the record retrieved via Lookup into the table of this app. To use this feature, please specify the mapping between the table in the source app and the table in this app, along with the related items.",ja:"\u30eb\u30c3\u30af\u30a2\u30c3\u30d7\u3067\u53d6\u5f97\u3057\u305f\u30ec\u30b3\u30fc\u30c9\u306e\u30c6\u30fc\u30d6\u30eb\u30c7\u30fc\u30bf\u3092\u3053\u306e\u30a2\u30d7\u30ea\u306e\u30c6\u30fc\u30d6\u30eb\u306b\u30b3\u30d4\u30fc\u3057\u307e\u3059\u3002\u3053\u306e\u6a5f\u80fd\u3092\u4f7f\u7528\u3059\u308b\u5834\u5408\u306f\u3001\u53c2\u7167\u5143\u30a2\u30d7\u30ea\u306e\u30c6\u30fc\u30d6\u30eb\u3068\u3053\u306e\u30a2\u30d7\u30ea\u306e\u30c6\u30fc\u30d6\u30eb\u306e\u95a2\u9023\u4ed8\u3051\u3001\u304a\u3088\u3073\u95a2\u9023\u9805\u76ee\u3092\u6307\u5b9a\u3057\u3066\u304f\u3060\u3055\u3044\u3002",
zh:"\u8be5\u529f\u80fd\u4f1a\u5c06\u901a\u8fc7 Lookup \u83b7\u53d6\u7684\u8bb0\u5f55\u4e2d\u7684\u8868\u683c\u6570\u636e\u590d\u5236\u5230\u672c\u5e94\u7528\u7684\u8868\u683c\u4e2d\u3002\u4f7f\u7528\u6b64\u529f\u80fd\u65f6\uff0c\u8bf7\u6307\u5b9a\u6765\u6e90\u5e94\u7528\u4e2d\u7684\u8868\u683c\u4e0e\u672c\u5e94\u7528\u4e2d\u7684\u8868\u683c\u4e4b\u95f4\u7684\u5173\u8054\u5173\u7cfb\uff0c\u4ee5\u53ca\u76f8\u5173\u9879\u76ee\u3002","zh-TW":"\u6b64\u529f\u80fd\u6703\u5c07\u900f\u904e Lookup \u53d6\u5f97\u7684\u8a18\u9304\u4e2d\u7684\u8868\u683c\u8cc7\u6599\u8907\u88fd\u5230\u672c\u61c9\u7528\u7684\u8868\u683c\u4e2d\u3002\u4f7f\u7528\u6b64\u529f\u80fd\u6642\uff0c\u8acb\u6307\u5b9a\u4f86\u6e90\u61c9\u7528\u4e2d\u7684\u8868\u683c\u8207\u672c\u61c9\u7528\u4e2d\u7684\u8868\u683c\u4e4b\u9593\u7684\u95dc\u806f\u95dc\u4fc2\uff0c\u4ee5\u53ca\u76f8\u95dc\u9805\u76ee\u3002",
identifier:{en:'The "Source Lookup Identifier Field" is a plugin-specific text field used to determine which table rows have already been copied when deleting copied rows or re-fetching data from the Lookup. Please do not set values in this field from external programs. Only the "Text" field type can be specified.',ja:"\u300c\u30b3\u30d4\u30fc\u5143\u30eb\u30c3\u30af\u30a2\u30c3\u30d7\u8b58\u5225\u30d5\u30a3\u30fc\u30eb\u30c9\u300d\u3068\u306f\u3001\u30b3\u30d4\u30fc\u6e08\u306e\u30c6\u30fc\u30d6\u30eb\u884c\u306e\u524a\u9664\u3084\u30eb\u30c3\u30af\u30a2\u30c3\u30d7\u306e\u518d\u53d6\u5f97\u6642\u306b\u3001\u3069\u306e\u884c\u304c\u30b3\u30d4\u30fc\u6e08\u307f\u3067\u3042\u308b\u304b\u3092\u5224\u65ad\u3059\u308b\u70ba\u306b\u4f7f\u7528\u3059\u308b\u3001\u30d7\u30e9\u30b0\u30a4\u30f3\u5c02\u7528\u306e\u30d5\u30a3\u30fc\u30eb\u30c9\u306b\u306a\u308a\u307e\u3059\u3002\u3053\u3061\u3089\u306e\u30d5\u30a3\u30fc\u30eb\u30c9\u306b\u306f\u5916\u90e8\u30d7\u30ed\u30b0\u30e9\u30e0\u304b\u3089\u5024\u3092\u30bb\u30c3\u30c8\u3057\u306a\u3044\u3088\u3046\u306b\u3057\u3066\u4e0b\u3055\u3044\u3002\u5c1a\u3001\u6307\u5b9a\u51fa\u6765\u308b\u30d5\u30a3\u30fc\u30eb\u30c9\u5f62\u5f0f\u306f\u6587\u5b57\u5217(1\u884c)\u306e\u307f\u3068\u306a\u308a\u307e\u3059\u3002",
zh:"\u201c\u590d\u5236\u6765\u6e90Lookup\u6807\u8bc6\u5b57\u6bb5\u201d\u662f\u63d2\u4ef6\u4e13\u7528\u7684\u6587\u672c\u5b57\u6bb5\uff0c\u7528\u4e8e\u5728\u5220\u9664\u5df2\u590d\u5236\u7684\u8868\u683c\u884c\u6216\u91cd\u65b0\u83b7\u53d6 Lookup \u6570\u636e\u65f6\u5224\u65ad\u54ea\u4e9b\u884c\u5df2\u88ab\u590d\u5236\u3002\u8bf7\u52ff\u901a\u8fc7\u5916\u90e8\u7a0b\u5e8f\u5411\u8be5\u5b57\u6bb5\u8bbe\u7f6e\u503c\u3002\u4ec5\u652f\u6301\u6307\u5b9a\u5b57\u6bb5\u7c7b\u578b\u4e3a\u201c\u5355\u884c\u6587\u672c\u6846\u201d\u3002",
"zh-TW":"\u300c\u8907\u88fd\u4f86\u6e90Lookup\u8b58\u5225\u6b04\u4f4d\u300d\u662f\u5916\u639b\u5c08\u7528\u7684\u6587\u5b57\u6b04\u4f4d\uff0c\u7528\u65bc\u5728\u522a\u9664\u5df2\u8907\u88fd\u7684\u8868\u683c\u5217\u6216\u91cd\u65b0\u53d6\u5f97 Lookup \u8cc7\u6599\u6642\u5224\u65b7\u54ea\u4e9b\u5217\u5df2\u88ab\u8907\u88fd\u3002\u8acb\u52ff\u5f9e\u5916\u90e8\u7a0b\u5f0f\u8a2d\u503c\u81f3\u6b64\u6b04\u4f4d\u3002\u50c5\u53ef\u6307\u5b9a\u6b04\u4f4d\u985e\u578b\u70ba\u300c\u55ae\u884c\u6587\u5b57\u65b9\u584a\u300d\u3002"}}},
message:{invalid:{container:{en:"If you specify the destination fields for copying, please also specify the space field where the copy button will be placed.",ja:"\u30b3\u30d4\u30fc\u5148\u30d5\u30a3\u30fc\u30eb\u30c9\u3092\u6307\u5b9a\u3057\u305f\u5834\u5408\u306f\u3001\u305d\u306e\u30b3\u30d4\u30fc\u30dc\u30bf\u30f3\u3092\u914d\u7f6e\u3059\u308b\u30b9\u30da\u30fc\u30b9\u30d5\u30a3\u30fc\u30eb\u30c9\u3082\u6307\u5b9a\u3057\u3066\u4e0b\u3055\u3044\u3002",zh:"\u5982\u679c\u6307\u5b9a\u4e86\u590d\u5236\u7684\u76ee\u6807\u5b57\u6bb5\uff0c\u8bf7\u540c\u65f6\u6307\u5b9a\u7528\u4e8e\u653e\u7f6e\u590d\u5236\u6309\u94ae\u7684\u7a7a\u95f4\u5b57\u6bb5\u3002",
"zh-TW":"\u5982\u679c\u6307\u5b9a\u4e86\u8907\u88fd\u7684\u76ee\u6a19\u6b04\u4f4d\uff0c\u8acb\u540c\u6642\u6307\u5b9a\u7528\u65bc\u653e\u7f6e\u8907\u88fd\u6309\u9215\u7684\u7a7a\u9593\u6b04\u4f4d\u3002"},duplicate:{en:"You cannot specify the same lookup field in different tabs.",ja:"\u7570\u306a\u308b\u30bf\u30d6\u3067\u540c\u3058\u30eb\u30c3\u30af\u30a2\u30c3\u30d7\u30d5\u30a3\u30fc\u30eb\u30c9\u3092\u6307\u5b9a\u3059\u308b\u3053\u3068\u306f\u51fa\u6765\u307e\u305b\u3093\u3002",zh:"\u65e0\u6cd5\u5728\u4e0d\u540c\u7684\u6807\u7b7e\u9875\u4e2d\u6307\u5b9a\u76f8\u540c\u7684 Lookup\u3002",
"zh-TW":"\u7121\u6cd5\u5728\u4e0d\u540c\u7684\u6a19\u7c64\u9801\u4e2d\u6307\u5b9a\u76f8\u540c\u7684 Lookup\u3002"},fields:{en:"Please configure the copy field settings.",ja:"\u30b3\u30d4\u30fc\u30d5\u30a3\u30fc\u30eb\u30c9\u306e\u8a2d\u5b9a\u3092\u884c\u3063\u3066\u4e0b\u3055\u3044\u3002",zh:"\u8bf7\u8fdb\u884c\u590d\u5236\u5b57\u6bb5\u7684\u8bbe\u7f6e\u3002","zh-TW":"\u8acb\u9032\u884c\u8907\u88fd\u6b04\u4f4d\u7684\u8a2d\u5b9a\u3002"},identifier:{en:"Please specify the Source Lookup Identifier Field.",
ja:"\u30b3\u30d4\u30fc\u5143\u30eb\u30c3\u30af\u30a2\u30c3\u30d7\u8b58\u5225\u30d5\u30a3\u30fc\u30eb\u30c9\u3092\u6307\u5b9a\u3057\u3066\u4e0b\u3055\u3044\u3002",zh:"\u8bf7\u9009\u62e9\u590d\u5236\u6765\u6e90Lookup\u6807\u8bc6\u5b57\u6bb5\u3002","zh-TW":"\u8acb\u9078\u64c7\u8907\u88fd\u4f86\u6e90Lookup\u8b58\u5225\u6b04\u4f4d\u3002"},label:{en:"If a destination field is specified, enter the label text for its copy button.",ja:"\u30b3\u30d4\u30fc\u5148\u30d5\u30a3\u30fc\u30eb\u30c9\u3092\u6307\u5b9a\u3057\u305f\u5834\u5408\u306f\u3001\u305d\u306e\u30b3\u30d4\u30fc\u30dc\u30bf\u30f3\u306e\u30e9\u30d9\u30eb\u30c6\u30ad\u30b9\u30c8\u3092\u5165\u529b\u3057\u3066\u4e0b\u3055\u3044\u3002",
zh:"\u5982\u679c\u6307\u5b9a\u4e86\u76ee\u6807\u5b57\u6bb5\uff0c\u8bf7\u8f93\u5165\u5176\u590d\u5236\u6309\u94ae\u7684\u6807\u7b7e\u6587\u672c\u3002","zh-TW":"\u5982\u679c\u6307\u5b9a\u4e86\u76ee\u6a19\u5b57\u6bb5\uff0c\u8acb\u8f38\u5165\u5176\u8907\u88fd\u6309\u9215\u7684\u6a19\u7c64\u6587\u672c\u3002"},message:{en:"If a destination field is specified, enter the confirmation message before starting the copy.",ja:"\u30b3\u30d4\u30fc\u5148\u30d5\u30a3\u30fc\u30eb\u30c9\u3092\u6307\u5b9a\u3057\u305f\u5834\u5408\u306f\u3001\u305d\u306e\u30b3\u30d4\u30fc\u958b\u59cb\u524d\u306e\u78ba\u8a8d\u30e1\u30c3\u30bb\u30fc\u30b8\u3092\u5165\u529b\u3057\u3066\u4e0b\u3055\u3044\u3002",
zh:"\u5982\u679c\u6307\u5b9a\u4e86\u76ee\u6807\u5b57\u6bb5\uff0c\u8bf7\u8f93\u5165\u5f00\u59cb\u590d\u5236\u524d\u7684\u786e\u8ba4\u6d88\u606f\u3002","zh-TW":"\u5982\u679c\u6307\u5b9a\u4e86\u76ee\u6a19\u5b57\u6bb5\uff0c\u8acb\u8f38\u5165\u958b\u59cb\u8907\u88fd\u524d\u7684\u78ba\u8a8d\u6d88\u606f\u3002"}}}}},kb.constants);
