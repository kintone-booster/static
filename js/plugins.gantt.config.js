/*
* FileName "plugins.gantt.config.js"
* Version: 1.0.0
* Copyright (c) 2023 Pandafirm LLC
* Distributed under the terms of the GNU Lesser General Public License.
* https://opensource.org/licenses/LGPL-2.1
*/
(function(e){var k={};kb.field.load(kintone.app.getId()).then(function(h){kb.view.load(kintone.app.getId()).then(function(n){kb.config[e].build({submit:function(m,g){try{var f=!1;g.tab=[];g.flat={};(function(d){kb.config[e].tabbed.tabs.some(function(b){var c=kb.record.get(b.panel,d);if(c.error)kb.alert(kb.constants.common.message.invalid.record[kb.operator.language]),kb.config[e].tabbed.activate(b),f=!0;else{var a=c.record,l=[];a.subtaskTitle.value&&a.subtaskStart.value&&a.subtaskEnd.value?(l.push(h.parallelize[a.subtaskTitle.value].tableCode),
l.push(h.parallelize[a.subtaskStart.value].tableCode),l.push(h.parallelize[a.subtaskEnd.value].tableCode),a.subtaskProgress.value&&l.push(h.parallelize[a.subtaskProgress.value].tableCode),l=Array.from(new Set(l))):a.subtaskTitle.value||a.subtaskStart.value||a.subtaskEnd.value?l=["",""]:a.subtaskProgress.value="";1<l.length?(kb.alert(kb.constants.config.message.invalid.table[kb.operator.language]),kb.config[e].tabbed.activate(b),f=!0):g.tab.push({label:b.label.html(),setting:c.record})}return f});
g.tab.length!=Array.from(new Set(g.tab.map(function(b){return b.setting.view.value}))).length&&(kb.alert(kb.constants.config.message.invalid.duplicate[kb.operator.language]),f=!0)})({id:k.app.id,fields:k.app.fields.tab});g.tab=JSON.stringify(g.tab);g.flat=JSON.stringify(g.flat);return f?!1:g}catch(d){return kb.alert(kb.error.parse(d)),!1}}},function(m,g){try{k.app={id:e,fields:{tab:{view:{code:"view",type:"DROP_DOWN",label:"",required:!0,noLabel:!0,options:[]},taskTitle:{code:"taskTitle",type:"DROP_DOWN",
label:"",required:!0,noLabel:!0,options:[]},taskStart:{code:"taskStart",type:"DROP_DOWN",label:"",required:!0,noLabel:!0,options:[]},taskEnd:{code:"taskEnd",type:"DROP_DOWN",label:"",required:!0,noLabel:!0,options:[]},taskProgress:{code:"taskProgress",type:"DROP_DOWN",label:"",required:!1,noLabel:!0,options:[]},subtaskTitle:{code:"subtaskTitle",type:"DROP_DOWN",label:"",required:!1,noLabel:!0,options:[]},subtaskStart:{code:"subtaskStart",type:"DROP_DOWN",label:"",required:!1,noLabel:!0,options:[]},
subtaskEnd:{code:"subtaskEnd",type:"DROP_DOWN",label:"",required:!1,noLabel:!0,options:[]},subtaskProgress:{code:"subtaskProgress",type:"DROP_DOWN",label:"",required:!1,noLabel:!0,options:[]},initial:{code:"initial",type:"RADIO_BUTTON",label:"",required:!0,noLabel:!0,options:[{index:0,label:"Day"},{index:1,label:"Week"},{index:2,label:"Month"},{index:3,label:"Half Day"},{index:4,label:"Quarter Day"}]},page:{code:"page",type:"CHECK_BOX",label:"",required:!1,noLabel:!0,options:[{index:0,label:"detail"}]}},
flat:{}}},kb.config[e].tabbed=new KintoneBoosterConfigTabbed(m,{add:function(f){(function(d){f.panel.addClass("kb-scope").attr("form-id","form_"+d.id).append(kb.create("h1").html(kb.constants.config.caption.view[kb.operator.language])).append(kb.create("section").append(kb.create("p").html(kb.constants.config.description.view[kb.operator.language])).append(kb.field.activate(function(b){b.elm("select").empty().assignOption([{code:"",label:""}].concat(n.custom.map(function(c){return{code:c.id,label:c.name}})),
"label","code");return b}(kb.field.create(d.fields.view)),d))).append(kb.create("h1").html(kb.constants.config.caption.task[kb.operator.language])).append(kb.create("section").append(kb.create("h1").html(kb.constants.config.caption.title[kb.operator.language])).append(kb.create("section").append(kb.create("p").html(kb.constants.config.description.title[kb.operator.language])).append(kb.field.activate(function(b){b.elm("select").empty().assignOption(kb.config[e].ui.options.fields(h,function(c,a){a.tableCode||
c.push({code:a.code,label:a.label});return c}),"label","code");return b}(kb.field.create(d.fields.taskTitle)),d))).append(kb.create("h1").html(kb.constants.config.caption.start[kb.operator.language])).append(kb.create("section").append(kb.create("p").html(kb.constants.config.description.start[kb.operator.language])).append(kb.field.activate(function(b){b.elm("select").empty().assignOption(kb.config[e].ui.options.fields(h,function(c,a){if(!a.tableCode)switch(a.type){case "DATE":case "DATETIME":c.push({code:a.code,
label:a.label})}return c}),"label","code");return b}(kb.field.create(d.fields.taskStart)),d))).append(kb.create("h1").html(kb.constants.config.caption.end[kb.operator.language])).append(kb.create("section").append(kb.create("p").html(kb.constants.config.description.end[kb.operator.language])).append(kb.field.activate(function(b){b.elm("select").empty().assignOption(kb.config[e].ui.options.fields(h,function(c,a){if(!a.tableCode)switch(a.type){case "CALC":switch(a.format){case "DATE":case "DATETIME":c.push({code:a.code,
label:a.label})}break;case "DATE":case "DATETIME":c.push({code:a.code,label:a.label})}return c}),"label","code");return b}(kb.field.create(d.fields.taskEnd)),d))).append(kb.create("h1").html(kb.constants.config.caption.progress[kb.operator.language])).append(kb.create("section").append(kb.create("p").html(kb.constants.config.description.progress[kb.operator.language])).append(kb.field.activate(function(b){b.elm("select").empty().assignOption(kb.config[e].ui.options.fields(h,function(c,a){if(!a.tableCode)switch(a.type){case "NUMBER":"100"==
a.maxValue&&"0"==a.minValue&&c.push({code:a.code,label:a.label})}return c}),"label","code");return b}(kb.field.create(d.fields.taskProgress)),d)).append(kb.create("p").addClass("kb-caution").html(kb.constants.config.description.progress.caution[kb.operator.language])))).append(kb.create("h1").html(kb.constants.config.caption.subTask[kb.operator.language])).append(kb.create("section").append(kb.create("p").addClass("kb-hint").html(kb.constants.config.description.subTask[kb.operator.language])).append(kb.create("h1").html(kb.constants.config.caption.title[kb.operator.language])).append(kb.create("section").append(kb.create("p").html(kb.constants.config.description.title[kb.operator.language])).append(kb.field.activate(function(b){b.elm("select").empty().assignOption(kb.config[e].ui.options.fields(h,
function(c,a){a.tableCode&&c.push({code:a.code,label:a.label});return c}),"label","code");return b}(kb.field.create(d.fields.subtaskTitle)),d))).append(kb.create("h1").html(kb.constants.config.caption.start[kb.operator.language])).append(kb.create("section").append(kb.create("p").html(kb.constants.config.description.start[kb.operator.language])).append(kb.field.activate(function(b){b.elm("select").empty().assignOption(kb.config[e].ui.options.fields(h,function(c,a){if(a.tableCode)switch(a.type){case "DATE":case "DATETIME":c.push({code:a.code,
label:a.label})}return c}),"label","code");return b}(kb.field.create(d.fields.subtaskStart)),d))).append(kb.create("h1").html(kb.constants.config.caption.end[kb.operator.language])).append(kb.create("section").append(kb.create("p").html(kb.constants.config.description.end[kb.operator.language])).append(kb.field.activate(function(b){b.elm("select").empty().assignOption(kb.config[e].ui.options.fields(h,function(c,a){if(a.tableCode)switch(a.type){case "CALC":switch(a.format){case "DATE":case "DATETIME":c.push({code:a.code,
label:a.label})}break;case "DATE":case "DATETIME":c.push({code:a.code,label:a.label})}return c}),"label","code");return b}(kb.field.create(d.fields.subtaskEnd)),d))).append(kb.create("h1").html(kb.constants.config.caption.progress[kb.operator.language])).append(kb.create("section").append(kb.create("p").html(kb.constants.config.description.progress[kb.operator.language])).append(kb.field.activate(function(b){b.elm("select").empty().assignOption(kb.config[e].ui.options.fields(h,function(c,a){if(a.tableCode)switch(a.type){case "NUMBER":"100"==
a.maxValue&&"0"==a.minValue&&c.push({code:a.code,label:a.label})}return c}),"label","code");return b}(kb.field.create(d.fields.subtaskProgress)),d)).append(kb.create("p").addClass("kb-caution").html(kb.constants.config.description.progress.caution[kb.operator.language])))).append(kb.create("h1").html(kb.constants.config.caption.initial[kb.operator.language])).append(kb.create("section").append(kb.create("p").html(kb.constants.config.description.initial[kb.operator.language])).append(kb.field.activate(function(b){b.elms("[data-name="+
d.fields.initial.code+"]").each(function(c,a){c.closest("label").elm("span").html(kb.constants.config.caption.initial[c.val()][kb.operator.language])});return b}(kb.field.create(d.fields.initial)),d))).append(kb.create("h1").html(kb.constants.config.caption.page[kb.operator.language])).append(kb.create("section").append(kb.create("p").html(kb.constants.config.description.page[kb.operator.language])).append(kb.field.activate(function(b){b.elms("[type=checkbox]").each(function(c,a){c.closest("label").elm("span").html(kb.constants.config.caption.page[c.val()][kb.operator.language])});
return b}(kb.field.create(d.fields.page)),d)).append(kb.create("p").addClass("kb-caution").html(kb.constants.config.description.page.caution[kb.operator.language])));f.panel.elms("input,select,textarea").each(function(b,c){return b.initialize()})})({id:k.app.id,fields:k.app.fields.tab})},copy:function(f,d){var b={id:k.app.id,fields:k.app.fields.tab},c=kb.record.get(f.panel,b,!0).record;kb.record.set(d.panel,b,c)},del:function(f){}}),0!=Object.keys(g).length?function(f){f.each(function(d){var b={id:k.app.id,
fields:k.app.fields.tab},c=kb.config[e].tabbed.add();kb.record.set(c.panel,b,d.setting);c.label.html(d.label)})}(JSON.parse(g.tab)):kb.config[e].tabbed.add()}catch(f){kb.alert(kb.error.parse(f))}})})})})(kintone.$PLUGIN_ID);
kb.constants=kb.extend({config:{caption:{end:{en:"End Date",ja:"\u7d42\u4e86\u65e5\u6642",zh:"\u7ed3\u675f\u65e5\u671f"},initial:{en:"Initial Calendar Display",ja:"\u30ac\u30f3\u30c8\u30c1\u30e3\u30fc\u30c8\u306e\u521d\u671f\u8868\u793a",zh:"\u65e5\u5386\u7684\u521d\u59cb\u663e\u793a",Day:{en:"Day",ja:"\u65e5",zh:"\u65e5"},"Half Day":{en:"Half Day",ja:"12\u6642\u9593\u6bce",zh:"\u6bcf12\u5c0f\u65f6"},Month:{en:"Month",ja:"\u6708",zh:"\u6708"},"Quarter Day":{en:"Quarter Day",ja:"6\u6642\u9593\u6bce",
zh:"\u6bcf6\u5c0f\u65f6"},Week:{en:"Week",ja:"\u9031",zh:"\u5468"}},page:{en:"Transition to the editing page",ja:"\u7de8\u96c6\u753b\u9762\u3078\u306e\u9077\u79fb",zh:"\u8f6c\u5230\u7f16\u8f91\u9875\u9762",detail:{en:"Go to the detail screen",ja:"\u9077\u79fb\u5148\u30da\u30fc\u30b8\u3092\u8a73\u7d30\u753b\u9762\u306b\u3059\u308b",zh:"\u8f6c\u5230\u8be6\u7ec6\u5c4f\u5e55"}},progress:{en:"Progress",ja:"\u9032\u6357",zh:"\u8fdb\u6b65"},start:{en:"Start Date",ja:"\u958b\u59cb\u65e5",zh:"\u5f00\u59cb\u65e5\u671f"},
subTask:{en:"Subtask",ja:"\u30b5\u30d6\u30bf\u30b9\u30af",zh:"\u5b50\u4efb\u52a1"},task:{en:"Task",ja:"\u30bf\u30b9\u30af",zh:"\u4efb\u52a1"},title:{en:"Title",ja:"\u30bf\u30a4\u30c8\u30eb",zh:"\u6807\u9898"},view:{en:"View",ja:"\u4f7f\u7528\u4e00\u89a7",zh:"\u6807\u9898"}},description:{end:{en:"Please specify the field to use as the End Date.",ja:"\u7d42\u4e86\u65e5\u3068\u3057\u3066\u4f7f\u7528\u3059\u308b\u30d5\u30a3\u30fc\u30eb\u30c9\u3092\u6307\u5b9a\u3057\u3066\u304f\u3060\u3055\u3044\u3002",
zh:"\u8bf7\u6307\u5b9a\u4f5c\u4e3a\u7ed3\u675f\u65e5\u671f\u7684\u5b57\u6bb5\u3002"},initial:{en:"Please specify the initial display format for the gantt.",ja:"\u30ac\u30f3\u30c8\u30c1\u30e3\u30fc\u30c8\u306e\u521d\u671f\u8868\u793a\u5f62\u5f0f\u3092\u6307\u5b9a\u3057\u3066\u4e0b\u3055\u3044\u3002",zh:"\u8bf7\u6307\u5b9a\u7518\u7279\u56fe\u7684\u521d\u59cb\u663e\u793a\u683c\u5f0f\u3002"},page:{en:"If you want to make the page transition to the detailed screen by clicking the title part of the task area, please check the box.",
ja:"\u30bf\u30b9\u30af\u30a8\u30ea\u30a2\u306e\u30bf\u30a4\u30c8\u30eb\u90e8\u5206\u3092\u30af\u30ea\u30c3\u30af\u3057\u3066\u9077\u79fb\u3059\u308b\u30da\u30fc\u30b8\u3092\u8a73\u7d30\u753b\u9762\u306b\u3059\u308b\u5834\u5408\u306f\u3001\u30c1\u30a7\u30c3\u30af\u3092\u4ed8\u3051\u3066\u4e0b\u3055\u3044\u3002",zh:"\u5982\u679c\u60a8\u5e0c\u671b\u901a\u8fc7\u70b9\u51fb\u4efb\u52a1\u533a\u57df\u7684\u6807\u9898\u90e8\u5206\u4f7f\u9875\u9762\u8f6c\u5230\u8be6\u7ec6\u5c4f\u5e55\uff0c\u8bf7\u52fe\u9009\u6b64\u9009\u9879\u3002",
caution:{en:"If you transition to the detailed view, please note that you will not return to the gantt page after completing the edits or canceling them.",ja:"\u8a73\u7d30\u753b\u9762\u306b\u9077\u79fb\u3059\u308b\u3088\u3046\u306b\u3057\u305f\u5834\u5408\u3001\u7de8\u96c6\u5b8c\u4e86\u30fb\u30ad\u30e3\u30f3\u30bb\u30eb\u5f8c\u306f\u30ac\u30f3\u30c8\u30c1\u30e3\u30fc\u30c8\u30da\u30fc\u30b8\u306b\u306f\u623b\u308c\u307e\u305b\u3093\u306e\u3067\u3054\u6ce8\u610f\u304f\u3060\u3055\u3044\u3002",zh:"\u8bf7\u6ce8\u610f\uff0c\u5982\u679c\u60a8\u8bbe\u7f6e\u4e3a\u8f6c\u5230\u8be6\u7ec6\u5c4f\u5e55\uff0c\u7f16\u8f91\u5b8c\u6210\u6216\u53d6\u6d88\u540e\u5c06\u65e0\u6cd5\u8fd4\u56de\u7518\u7279\u56fe\u9875\u9762\u3002"}},
progress:{en:"Please specify the field to use as a progress rate.",ja:"\u9032\u6357\u7387\u3068\u3057\u3066\u4f7f\u7528\u3059\u308b\u30d5\u30a3\u30fc\u30eb\u30c9\u3092\u6307\u5b9a\u3057\u3066\u304f\u3060\u3055\u3044\u3002",zh:"\u8bf7\u6307\u5b9a\u7528\u4f5c\u8fdb\u5ea6\u7387\u7684\u5b57\u6bb5\u3002",caution:{en:'The fields that can be specified are only those numeric fields where the minimum value is set to 0 and the maximum value to 100 under "Limits of Value".',ja:"\u6307\u5b9a\u304c\u53ef\u80fd\u306a\u30d5\u30a3\u30fc\u30eb\u30c9\u306f\u300c\u5024\u306e\u5236\u9650\u300d\u3067\u6700\u5c0f\u5024\u306b0\u6700\u5927\u5024\u306b100\u304c\u5165\u529b\u3055\u308c\u3066\u3044\u308b\u6570\u5024\u30d5\u30a3\u30fc\u30eb\u30c9\u306e\u307f\u3068\u306a\u308a\u307e\u3059\u3002",
zh:"\u53ef\u6307\u5b9a\u7684\u5b57\u6bb5\u4ec5\u9650\u4e8e\u5728\u201c\u503c\u7684\u9650\u5236\u201d\u4e2d\u6700\u5c0f\u503c\u8bbe\u4e3a0\uff0c\u6700\u5927\u503c\u8bbe\u4e3a100\u7684\u6570\u503c\u5b57\u6bb5\u3002"}},start:{en:"Please specify the field to use as the Start Date.",ja:"\u958b\u59cb\u65e5\u3068\u3057\u3066\u4f7f\u7528\u3059\u308b\u30d5\u30a3\u30fc\u30eb\u30c9\u3092\u6307\u5b9a\u3057\u3066\u304f\u3060\u3055\u3044\u3002",zh:"\u8bf7\u6307\u5b9a\u4f5c\u4e3a\u5f00\u59cb\u65e5\u671f\u7684\u5b57\u6bb5\u3002"},
subTask:{en:"Please specify the fields for each item, if there are table data registered as subtasks.",ja:"\u30b5\u30d6\u30bf\u30b9\u30af\u3068\u3057\u3066\u767b\u9332\u3055\u308c\u3066\u3044\u308b\u30c6\u30fc\u30d6\u30eb\u30c7\u30fc\u30bf\u304c\u3042\u308c\u3070\u3001\u305d\u308c\u3089\u306e\u30d5\u30a3\u30fc\u30eb\u30c9\u3092\u5404\u9805\u76ee\u306b\u6307\u5b9a\u3057\u3066\u4e0b\u3055\u3044\u3002",zh:"\u5982\u679c\u6709\u4f5c\u4e3a\u5b50\u4efb\u52a1\u6ce8\u518c\u7684\u8868\u683c\u6570\u636e\uff0c\u8bf7\u4e3a\u6bcf\u4e2a\u9879\u76ee\u6307\u5b9a\u5b57\u6bb5\u3002"},
title:{en:"Please specify the field to use as the Title.",ja:"\u30bf\u30a4\u30c8\u30eb\u3068\u3057\u3066\u4f7f\u7528\u3059\u308b\u30d5\u30a3\u30fc\u30eb\u30c9\u3092\u6307\u5b9a\u3057\u3066\u304f\u3060\u3055\u3044\u3002",zh:"\u8bf7\u6307\u5b9a\u4f5c\u4e3a\u6807\u9898\u7684\u5b57\u6bb5\u3002"},view:{en:"Please specify the list to enable this plugin using the settings below.",ja:"\u4ee5\u4e0b\u306e\u8a2d\u5b9a\u3067\u3001\u3053\u306e\u30d7\u30e9\u30b0\u30a4\u30f3\u3092\u6709\u52b9\u306b\u3059\u308b\u4e00\u89a7\u3092\u6307\u5b9a\u3057\u3066\u304f\u3060\u3055\u3044\u3002",
zh:"\u8bf7\u4f7f\u7528\u4ee5\u4e0b\u8bbe\u7f6e\u9009\u62e9\u542f\u7528\u6b64\u63d2\u4ef6\u7684\u5217\u8868\u3002"}},message:{invalid:{duplicate:{en:"You cannot specify the same list in different tabs.",ja:"\u7570\u306a\u308b\u30bf\u30d6\u3067\u540c\u3058\u4e00\u89a7\u3092\u6307\u5b9a\u3059\u308b\u3053\u3068\u306f\u51fa\u6765\u307e\u305b\u3093\u3002",zh:"\u5728\u4e0d\u540c\u7684\u6807\u7b7e\u4e2d\u4e0d\u80fd\u6307\u5b9a\u76f8\u540c\u7684\u5217\u8868\u3002"},table:{en:"Please check whether the specified fields of subtask are all from the same table.",
ja:"\u6307\u5b9a\u3057\u305f\u30b5\u30d6\u30bf\u30b9\u30af\u306e\u30d5\u30a3\u30fc\u30eb\u30c9\u304c\u3059\u3079\u3066\u540c\u3058\u30c6\u30fc\u30d6\u30eb\u306e\u3082\u306e\u3067\u3042\u308b\u304b\u3092\u78ba\u8a8d\u3057\u3066\u304f\u3060\u3055\u3044\u3002",zh:"\u8bf7\u786e\u8ba4\u4e3a\u5b50\u4efb\u52a1\u6307\u5b9a\u7684\u6240\u6709\u5b57\u6bb5\u90fd\u6765\u81ea\u540c\u4e00\u4e2a\u8868\u3002"}}}}},kb.constants);